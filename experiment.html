<!DOCTYPE html>
<html>
  <head>
    <title>Group 4 Experiment</title>
    <link rel="icon" type="image/x-icon" href="mag.png">
    <script src="jspsych/jspsych.js"></script>
    <script src="jspsych/plugin-html-keyboard-response.js"></script>
    <script src="jspsych/plugin-image-slider-response.js"></script>
    <script src="plugin-custom-deblur.js"></script>
    <script src="jspsych/plugin-canvas-slider-response.js"></script>
    <script src="jspsych/plugin-preload.js"></script>
    <link href="jspsych/jspsych.css" rel="stylesheet" type="text/css" />
  </head>
  <body></body>
  <script>
    const jsPsych = initJsPsych({
        on_finish: function() {
        jsPsych.data.displayData();
        }
    });

    const images = [  "images/animal.jpg",
                      "images/begonia.jpg",
                      "images/buildings.jpg",
                      "images/deer.jpg",
                      "images/flower.jpg",
                      "images/food.jpg",
                      "images/girl.jpg",
                      "images/goose.jpg",
                      "images/mountains.jpg",
                      "images/road.jpg",
                      "images/spider.jpg",
                      "images/terraces.jpg"]

    const shuffledImages = jsPsych.randomization.shuffle(images);

    const stimList = [];

    for (i = 0; i < shuffledImages.length; i+=3){
      const stim = {
        image1: shuffledImages[i],
        image2: shuffledImages[i + 1],
        image3: shuffledImages[i + 2]
      };
      stimList.push(stim);
    }

    console.log(stimList);

    var blurTimeline = {
      timeline: [
          {
            type: jsPsychCustomDeblur,
          }
      ],
      timeline_variables: stimList
    }

    jsPsych.run(blurTimeline);
</script>
</html>
